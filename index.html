<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>LoanYourself</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="container">
    <header>
      <span class="product">LoanYourself </span> <span class="company"><i> by Caimans</i></span>
    </header>


    <div id="app" class="signup">
      <transition name="fade" mode="out-in">
        <component :is="compname" @change_comp="swapcomp($event)"></component>
      </transition>
    </div>

    <template id="signup-form">
      <form>
        <div class="form-group">
          <label for="fullname">Name:</label>
          <input type="text" v-model="fullname" />
          <span v-if="fullname.length > 0">{{ fullname_msg }}</span>
        </div>
        <div class="form-group">
          <label for="fulladdr">Full Address:</label>
          <input type="text" v-model="fulladdr" />
          <span v-if="fulladdr.length > 0">{{ fulladdr_msg }}</span>
        </div>
        <div class="form-group">
          <label for="loanamount">Loan Amount:</label>
          <input type="number" v-model="loanamount" />
          <span v-if="loanamount.length > 1">{{ loanamount_msg }}</span>
        </div>
        <div class="form-group">
          <button :class="{active: disable_btn}":disabled="disable_btn" @click.prevent="on_signup()">Sign Up</button>
          <a href="#0" @click="show_terms()">terms & conditions</a>
        </div>
      </form>
    </template>

    <template id="transaction">
      <div class="transaction">
        <h3>Transaction History</h3>
        <div style="width: 500px; height: 300px; overflow: auto;">
          <table>
            <tr v-for = "transaction in dummy_transactions">
              <td v-if="transaction.amount > 0">Loan</td>
              <td v-if="transaction.amount < 0">Online payment</td>
              <td>Â£{{Math.abs(transaction.amount).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")}}</td>
            </tr>
          </table>
        </div>
        <button type="button">Click me!!!</button>
        <button type="button">Click me!!!</button>
        <button type="button">Click me!!!</button>
      </div>
    </template>

    <template id="results">
      <div class="results">
        <div v-if="paperwork && api_key">
          <h3>Please wait, paperworking...</h3>
          <img src="images/paperwork.gif">
        </div>
        <div v-if="!paperwork && api_key">
          <h3>Welcome {{ punter }}!</h3>
          <p>Successful registration, this is the IBAN account you need to <i>somehow</i> transfer funds to:</p> <pre>SK20000CH33KY0000CA1MAN5</pre>
          <p>A debit card will be in your post by tomorrow. Let's do some online spending now!</p>
          <button @click="proceed_to_transactions()">Continue</button>
      </div>
      </div>
    </template>

    <template id="terms">
      <div class="terms">
        <h2>One condition</h2>
        <p class="tandc">Ensure funds <i>somehow</i> arrive into the provided IBAN in order to get these amazing loans.<br><br>Spend away!</p>
        <button @click="back_to_signup()">Back</button>
      </div>
    </template>
  </div>

  <script src='https://unpkg.com/vue@2.1.6/dist/vue.js'></script>
  <script src='https://unpkg.com/vue-router@2.1.1/dist/vue-router.js'></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script>
  <script src="js/index.js"></script>
</body>
</html>
